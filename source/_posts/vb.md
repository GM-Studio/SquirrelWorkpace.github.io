---
title: Windows下VB的Linux虚拟机的使用
date: 2017.11.9
tag: [Windows,VB,Linux]
categories: 虚拟机
---
# 序
大家都有过在```Windows```操作系统下使用```Virtual Box```软件运行虚拟机的经历.特别是对```Linux```新手用户而言.通常新手们为了更好的完成从```Windows```到```Linux```的更好的过渡,当然只是为了体验```Linux```操作的人大有人在.但不管是为了啥,总之在```VB```安装linux虚拟机系统这一操作是很普遍的.这不笔者最近在```VB```装了```centos7.x```,但是遇见了一个问题,什么问题呢?让我们一起来一探究竟吧.

# 实体机和虚拟机的文件共享
通常我们在使用虚拟机的情况时候,都会遇见一个情况.就是假如我们需要使用实体机的文件,怎么才能让虚拟机能访问呢?这就是实体机和虚拟机的文件共享问题.
举个栗子.我在虚拟机Coding中,这个时候我发现我需要一个名为```123.jar```文件,而这个```123.jar```文件在虚拟机没有.只有实体机里才有.而且放在某个地方.比如是```Ｃ:Myfile/123.jar```.那么怎么才能让虚拟机访问这个文件呢?这就是虚实系统之间的文件共享.既然问题已经出现,我们怎么解决它呢?

### 实体机创建共享的文件夹
举个栗子
```
C:Myfile/centos
```
### VB上设置共享文件夹
上方菜单栏 ``` 设置->共享文件夹``` 填写共享文件夹的路径名,设置访问权限.

### VB安装增强功能
在上方菜单栏 ```设备->安装增强功能```
### Centos安装增强功能
打开虚拟机就可以看见桌面有一个名为```VBox_GAs_5.2.1```的镜像文件,挂载这个镜像.运行```autorun.sh``` 或者```runasroot.sh```的脚本完成安装.
### 问题出现
当我们这些都做完了时候,我们居然发现,我们当前的普通用户根本没办法访问共享文件夹.这是什么原因呢?这是因为共享的文件夹在```Linux```虚拟机里面其权限是属于```vboxsf```的,而我们普通用户sc并不属于这个用户组,因此就不具备相关权限.就谈不上访问文件了.

### 问题解决
1.先尝试用```root```用户更改文件夹权限
```
sudo chmod 777 /media/sf_centos
```
亲测无效,普通用户仍然不能访问.
2.再尝试将普通用户加入```root```用户组,因为```root```身份是可以访问的.
```
sudo usermod -aG root
```
亲测无效,普通用户还是不能访问该文件夹.
3.再尝试将普通用户加入```vboxsf```用户组,这个用户组是完全控制该共享文件夹的.
```
sudo usermod -aG vboxsf
```
亲测有效,可以访问.
　　
# 结束感想
1.遇见了问题莫慌.仔细的分析问题产生的原因.
2.自己尝试去解决问题
3.如果解决了当然皆大欢喜.若没有解决就去```百度``` or ```Google```吧
4.问题解决之后写下笔记,以备后续使用.
